<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>レシピ検索サービス</title>
</head>
<body>
  <h1>レシピ検索</h1>
  <p>材料を選んでください（2個以上）</p>

  <div class="ingredients">
    <label><input type="checkbox" value="牛肉">牛肉</label>
    <label><input type="checkbox" value="鶏肉">鶏肉</label>
    <label><input type="checkbox" value="豚肉">豚肉</label>
    <label><input type="checkbox" value="魚">魚</label>
    <label><input type="checkbox" value="卵">卵</label>
    <label><input type="checkbox" value="豆腐">豆腐</label>
    <label><input type="checkbox" value="根菜類">根菜類</label>
    <label><input type="checkbox" value="葉物野菜">葉物野菜</label>
    <label><input type="checkbox" value="果菜類">果菜類</label>
    <label><input type="checkbox" value="キノコ類">キノコ類</label>
    <label><input type="checkbox" value="豆類">豆類</label>
  </div>

  <button onclick="searchRecipes()">検索する</button>

  <div class="recipe-list" id="results"></div>

  <script>
    // レシピデータ（例: 作り方付き）
    const recipes = [
      {
        ingredients:["牛肉","根菜類"],
        title:"牛肉とにんじんの煮物",
        method:"1. 牛肉とにんじんを食べやすい大きさに切る。<br>2. 鍋に油を熱し、牛肉を炒め、にんじんを加える。<br>3. だし・醤油・みりんで煮込んで味を含ませる。"
      },
      {
        ingredients:["鶏肉","卵"],
        title:"鶏肉と卵の親子丼",
        method:"1. 鶏肉を一口大に切り、玉ねぎと一緒に煮る。<br>2. だし・醤油・みりんを加えて煮立たせる。<br>3. 溶き卵を回しかけ、半熟状で火を止め、ご飯に盛る。"
      },
      {
        ingredients:["豚肉","豆腐"],
        title:"豚肉と豆腐の麻婆風",
        method:"1. 豚ひき肉を炒め、豆板醤・にんにく・生姜を加える。<br>2. 豆腐を加えて崩さないように煮る。<br>3. 水溶き片栗粉でとろみをつけて完成。"
      },
      {
        ingredients:["魚","葉物野菜"],
        title:"魚とほうれん草のホイル焼き",
        method:"1. 魚の切り身と下茹でしたほうれん草をアルミホイルに包む。<br>2. バターと醤油を少しかける。<br>3. オーブンまたはフライパンで蒸し焼きにする。"
      }
      // ここに残りのレシピも同じ形式で method を追加していく
    ];

    function searchRecipes() {
      const checked = Array.from(document.querySelectorAll("input[type=checkbox]:checked"))
                           .map(cb => cb.value);

      if (checked.length < 2) {
        alert("材料を2個以上選んでください！");
        return;
      }

      let matched = recipes.filter(r =>
        checked.every(c => r.ingredients.includes(c))
      );

      if (matched.length === 0) {
        matched = recipes.filter(r =>
          checked.some(c => r.ingredients.includes(c))
        );
      }

      const resultsContainer = document.getElementById("results");
      resultsContainer.innerHTML = "";
      if (matched.length === 0) {
        resultsContainer.innerHTML = `<p class="no-result">レシピが見つかりませんでした</p>`;
      } else {
        matched.forEach(r => {
          const div = document.createElement("div");
          div.className = "recipe";
          div.innerHTML = `<strong>${r.title}</strong><div class="method">${r.method}</div>`;
          resultsContainer.appendChild(div);
        });
      }
    }
  </script>
</body>
</html>
